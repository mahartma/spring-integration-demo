project.version = '1.0-SNAPSHOT'

repositories { mavenCentral() }

apply plugin: 'war'
apply plugin: 'eclipse-wtp'
apply plugin: 'groovy'

dependencies {
	groovy group: 'org.codehaus.groovy', name: 'groovy-all', version:"2.0.6"
	groovy group: 'cglib', name: 'cglib-nodep', version: "2.2.2"
	groovy group: 'junit', name: 'junit', version: "4.10"
	groovy group: 'xmlunit', name: 'xmlunit', version: "1.4"
	groovy group: 'org.spockframework', name: 'spock-core', version: "0.7-groovy-2.0"
	compile group: 'org.springframework.integration', name: 'spring-integration-core', version: "2.2.2.RELEASE"
	compile group: 'org.springframework.integration', name: 'spring-integration-test', version: "2.2.2.RELEASE"
	compile group: 'org.springframework.integration', name: 'spring-integration-jms', version: "2.2.2.RELEASE"
	compile group: 'org.springframework.integration', name: 'spring-integration-stream', version: "2.2.2.RELEASE"
	compile group: 'org.springframework.integration', name: 'spring-integration-http', version: "2.2.2.RELEASE"
	compile group: 'org.springframework.ws', name: 'spring-ws-core', version: "2.1.2.RELEASE"
	compile group: 'org.springframework', name: 'spring-core', version: "3.2.2.RELEASE"
	compile group: 'org.springframework', name: 'spring-beans', version: "3.2.2.RELEASE"
	compile group: 'org.springframework', name: 'spring-context', version: "3.2.2.RELEASE"
	compile group: 'org.springframework', name: 'spring-context-support', version: "3.2.2.RELEASE"
	compile group: 'org.springframework', name: 'spring-web', version: "3.2.2.RELEASE"
	compile group: 'org.springframework', name: 'spring-webmvc', version: "3.2.2.RELEASE"
	compile group: 'org.springframework', name: 'spring-aop', version: "3.2.2.RELEASE"
	compile group: 'org.springframework', name: 'spring-jms', version: "3.2.2.RELEASE"
	compile group: 'org.springframework', name: 'spring-tx', version: "3.2.2.RELEASE"
	compile group: 'org.springframework', name: 'spring-test', version: "3.2.2.RELEASE"
	compile group: 'org.springframework', name: 'spring-oxm', version: "3.2.2.RELEASE"
	compile group: 'org.slf4j', name: 'slf4j-api', version: "1.7.2"
	compile group: 'org.slf4j', name: 'slf4j-log4j12', version: "1.7.2"
	compile group: 'log4j', name: 'log4j', version: "1.2.17"
	compile group: 'cglib', name: 'cglib-nodep', version: "2.2.2"
	compile project(':binding')
}

// maven-like test-stats
allprojects {
	test {
		afterSuite { desc, result ->
			if (!desc.parent) {
				println "Results: ${result.resultType} (${result.testCount} tests run, ${result.successfulTestCount} successes, ${result.failedTestCount} failures, ${result.skippedTestCount} skipped)"
			}
		}
	}
}